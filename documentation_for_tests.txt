Документация для файла tests.py

Этот файл содержит модульные тесты для класса Book и класса Library из модуля library_manager. Тесты используют библиотеку unittest для проверки корректности работы различных методов классов. Каждый тест проверяет функциональность, такую как валидация, сериализация данных и взаимодействие с файловой системой.

Импортируемые модули

unittest: Библиотека для модульного тестирования в Python.

os: Библиотека для работы с операционной системой, используется для работы с файлами.

library_manager: Модуль, содержащий классы Book и Library, которые тестируются в данном файле.


Классы тестов

TestBook

Тестирует функциональность класса Book, включая методы для валидации и сериализации данных.

1. Методы

test_sanitize_input_valid: Проверяет метод _sanitize_input класса Book на корректность обработки допустимых входных данных.

test_sanitize_input_invalid: Проверяет метод _sanitize_input класса Book на корректность обработки недопустимых входных данных (например, строки с только специальными символами).

test_validate_year_valid: Проверяет метод validate_year класса Book на корректность валидации допустимых значений года.

test_validate_year_invalid: Проверяет метод validate_year класса Book на корректность валидации недопустимых значений года.

test_to_text: Проверяет метод to_text класса Book на корректность преобразования объекта книги в строковое представление.

test_from_text_valid: Проверяет метод from_text класса Book на корректность создания объекта книги из строкового представления.

test_from_text_invalid: Проверяет метод from_text класса Book на корректность обработки некорректного строкового представления.




TestLibrary

Тестирует функциональность класса Library, включая методы для работы с книгами в библиотеке (добавление, удаление, поиск, изменение статуса и сохранение).

1. Методы

setUp: Метод, который выполняется перед каждым тестом. Создает новый объект Library и задает имя тестового файла.

tearDown: Метод, который выполняется после каждого теста. Удаляет тестовый файл, если он существует.

test_add_book: Проверяет метод add_book класса Library на корректность добавления новой книги в библиотеку.

test_remove_book: Проверяет метод remove_book класса Library на корректность удаления книги из библиотеки.

test_search_books: Проверяет метод search_books класса Library на корректность поиска книг по ключевому слову.

test_change_status: Проверяет метод change_status класса Library на корректность изменения статуса книги.

test_load_and_save_books: Проверяет методы сохранения и загрузки книг из файла. Сначала добавляется книга, затем она сохраняется, и проверяется, что книга успешно загружена из файла.




Основной блок

В блоке if __name__ == "__main__": выполняется запуск всех тестов с помощью метода unittest.main(). Этот блок позволяет запускать тесты при выполнении файла непосредственно, а также при его использовании как модуля.

Структура тестов

Тесты в классе TestBook проверяют работу методов, которые относятся к обработке и валидации данных книги (например, проверка года выпуска, очистка ввода, преобразование в строку).

Тесты в классе TestLibrary проверяют работу с коллекцией книг: добавление, удаление, поиск и изменение состояния книг, а также работу с файлами (сохранение и загрузка состояния библиотеки).


Ожидаемые результаты тестов

Тесты для методов валидации должны проверять правильность обработки допустимых и недопустимых значений.

Тесты для сериализации данных должны убедиться, что преобразования данных в строки и из строк происходят корректно.

Тесты для класса Library должны проверять правильность операций с коллекцией книг, таких как добавление, удаление и поиск.


Запуск тестов

Для запуска тестов нужно выполнить команду:

python tests.py

Тесты будут выполнены с помощью библиотеки unittest, и результаты тестирования будут выведены в консоль.